** Building
Install rush
> npm -g install rush

Run install/update/build
> rush install
> rush update
> rush build

** Deployment system setup
n (node version management)
rush (npm)
dotenv
pm2 (npm)

Chrome (runs headless via puppeteer)
> sudo apt install libnss3-dev libatk1.0-0 libatk-bridge2.0-0 libcups2 libgbm1 libpangocairo-1.0-0 libgtk-3-0

HTML Tidy
> sudo apt install tidy
> sudo apt install nginx


** Use of dotenv
To ease the process of running node apps from within the various packages, I use
dotenv (on Linux), with an '.envrc' file in each package folder (spider,
field-extractor, etc.). This puts the node_packages/.bin directory in PATH,
along with setting any other required environment variables, which makes running
tests, linting (jest and eslint), as well as command line apps easier to run when
developing.

A sample .envrc file is included in the ./docs folder

** Dev Notes, Upcoming fixes and features
*** Tasks
- [ ] Fix Browser resource leaks in puppeteer
  - [ ] Improve logging for browser acquire/page-open/nav/close lifecycle for better error tracing
- [ ] Add --force/overwrite flags for spider/extractor to ease reprocessing and error fixes
  - [ ] Add REST endpoints to request all items that have been fixed/reprocessed since last


- [ ] Run a "tracer bullet" test upon deployment, only allow rest endpoints if tests pass
- [ ] Command line app to spider/extract single URL


* Pros and Cons of running with Database backend
    The system may be run in a number of different ways, including:
    - "By hand", running command line apps for the spider, then field extraction, then
        collecting output into an aggregated JSON file
    - Inline via Commandline, where spidering and field extraction happen in the same process


* Handling arxiv.org redirects
** watch redirect event in spider
** rewrite url arxig.org/foobar -> spider.arxiv.org/blah
** use css to select xml attrs ??


* These URLs are still giving some extraction issues
https://www.ijcai.org/proceedings/2019/829
https://doi.org/10.1016/j.robot.2019.103270:
https://doi.org/10.21437/Interspeech.2021-678:
http://www.roboticsproceedings.org/rss13/p56.html:
https://doi.org/10.3233/JIFS-190782
https://content.iospress.com/articles/journal-of-intelligent-and-fuzzy-systems/ifs201737
https://drum.lib.umd.edu/handle/1903/2438
https://doi.org/10.1145/3242587.3242631:
https://www.usenix.org/conference/tapp2018/presentation/petricek
